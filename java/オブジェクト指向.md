## オブジェクト指向  
現実のモノのように、プログラムを部品として組み立てる考え方  

オブジェクト指向じゃない考え方  
```
プレイヤーの体力  
プレイヤーの攻撃処理  
敵の体力  
敵の攻撃処理  
```
→ バラバラで管理して混乱しやすい
<br>

オブジェクト指向の考え方  
```
プレイヤーというオブジェクト  
  ・体力
  ・攻撃する

敵というオブジェクト  
  ・体力
  ・攻撃する
```

「モノごとにまとめる」のがオブジェクト指向。  

オブジェクトは自分の情報を持ち、その情報を使って行動する責任を持つ

- 情報保持責任 : オブジェクトが知っているべきデータを持つ責任  

```
class Account {
    private int balance;
}
```
Accountは  
残高を知っている  
残高を管理している  

- 行動責任 : 自分の情報を使って処理を行う責任

```
class Account {
    private int balance;

    public void deposit(int amount) {
        balance += amount;
    }

    public void withdraw(int amount) {
        if(balance >= amount) {
            balance -= amount;
        }
    }
}
```

残高を増やす  
残高を減らす  


### クラスの定義方法　　
ゲームの勇者を例にしたとき  
「クラス名」  
「属性」　名前、ＨＰ、攻撃力...  何を持っている
「操作」　戦う、逃げる、アイテム...　操作  
```java
class Hero {
    private String name; //属性
    private int hp;
    private int mp;
    private int attack;
    private int defense;

    public void attack(Monster monster) {               //操作
        int damage = attack - monster.getDefense();
        if (damage < 0) damage = 0;
        monster.takeDamage(damage);
    }

    public void takeDamage(int damage) {
        hp -= damage;
        if (hp < 0) hp = 0;
    }

    public boolean isAlive() {
        return hp > 0;
    }
}
```

### インスタンスの利用

クラス：概念
インスタンス：物体、設計図をもとにして実際に作った物
オブジェクト：概念や物体をふんわりと表現したもの


```java
public class Main {
    public static void main (String[] args) {
        Hero h = new Hero(); //勇者生成
        h.name = "AAA";　//フィールドに初期値設定
        h.hp = 100;
        h.attack = 20;

        h.attack();
        h.takeDamage();
    }
}
```

- インスタンスの生成にはnewを使う  
- フィールドを利用するときは`"変数名".フィールド名`  
- メソッドを呼び出す場合は`"変数名".メソッド名()`


### Java: has-a
- A has-a B = AがBをフィールドとして持つ（合成/集約の方向）。
- 継承（is-a）ではなく、基本は has-a を優先すると設計が柔らかい。

### Java: コンストラクタ
インスタンスが生成されるときに、自動で呼ばれる特別なメソッド ・・・「生まれた時のルール」 

役割  
- フィールドの初期化  
- インスタンス生成時の準備処理

コンストラクタである条件
- クラス名と同じ名前
- 戻り値を書かない（voidもNG）

```java
public class クラス名 {
    public クラス名() {
        自動的に実行する処理
    }
}
```

<br>
生成時に自動実行される初期化処理。戻り値なし、クラス名と同名。

1つでも書くとデフォルトコンストラクタは自動生成されない点に注意。

<br>
コンストラクトのオーバーロード

```java
class Hero {
    String name;
    int hp;

    Hero() {
        name = "ゆうしゃ";
        hp = 100;
    }

    Hero(String name) {
        this.name = name;
        hp = 100;
    }

    Hero(String name, int hp) {
        this.name = name;
        this.hp = hp;
    }
}

new Hero();
new Hero("たろう");
new Hero("たろう", 200);

```
オーバーロード・・・同じ名前で引数が異なるメソッドを複数定義する